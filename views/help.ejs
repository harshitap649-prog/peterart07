<%- include('header') %>
<%- include('partials/alerts') %>
<div class="help-container">
  <div class="help-header">
    <h1 class="help-title">Help & Support</h1>
    <p class="help-subtitle">We're here to help! Contact us with any questions or issues you may have.</p>
  </div>
  
  <% if (success) { %>
    <div class="help-success-message">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
        <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span><%= success %></span>
    </div>
  <% } %>
  
  <% if (error) { %>
    <div class="help-error-message">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
        <path d="M12 8V12M12 16H12.01" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      <span><%= error %></span>
    </div>
  <% } %>
  
  <div class="help-content">
    <div class="help-info-section">
      <div class="help-info-card">
        <div class="help-info-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3>Get Help</h3>
        <p>Have a question about an order, artwork, or need assistance? Fill out the form and we'll get back to you as soon as possible.</p>
      </div>
      
      <div class="help-info-card">
        <div class="help-info-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <h3>Quick Response</h3>
        <p>We typically respond within 24-48 hours. For urgent matters, please include "URGENT" in your subject line.</p>
      </div>
      
      <div class="help-info-card">
        <div class="help-info-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9 12l2 2 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M3 12h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <h3>Common Issues</h3>
        <p>Order tracking, payment issues, artwork inquiries, shipping questions, or account problems - we're here to help with everything.</p>
      </div>
    </div>
    
    <div class="help-form-section">
      <div class="help-form-card">
        <h2 class="help-form-title">Contact Us</h2>
        <p class="help-form-subtitle">Fill out the form below and we'll respond as soon as possible.</p>
        
        <form method="POST" action="/help" class="help-form">
          <div class="form-group">
            <label for="user-email">Your Email</label>
            <input type="email" id="user-email" value="<%= user.email %>" disabled class="form-input-disabled">
            <small class="form-hint">This is your registered email address</small>
          </div>
          
          <div class="form-group">
            <label for="subject">Subject <span class="required">*</span></label>
            <input type="text" id="subject" name="subject" placeholder="e.g., Order Issue, Artwork Question, Payment Problem" required class="form-input" value="<%= typeof values !== 'undefined' && values.subject ? values.subject : '' %>">
          </div>
          
          <div class="form-group">
            <label for="message">Message <span class="required">*</span></label>
            <textarea id="message" name="message" rows="8" placeholder="Please describe your issue or question in detail..." required class="form-textarea"><%= typeof values !== 'undefined' && values.message ? values.message : '' %></textarea>
            <small class="form-hint">Minimum 10 characters. Be as detailed as possible to help us assist you better.</small>
          </div>
          
          <button type="submit" class="help-submit-btn">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M22 2L11 13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M22 2l-7 20-4-9-9-4 20-7z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span>Send Message</span>
          </button>
        </form>
      </div>
    </div>
  </div>
  
  <div class="help-back-section">
    <a href="/gallery" class="help-back-link">
      <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      <span>Back to Gallery</span>
    </a>
  </div>
</div>
<%- include('footer') %>